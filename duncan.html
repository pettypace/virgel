<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Defense Wound Mass Estimator</title>
    <script>
        function calculateWoundMass() {
            const unitSystem = document.querySelector('input[name="unitSystem"]:checked').value;
            const bulletType = document.querySelector('input[name="bulletType"]:checked').value;    
            var diameter = parseFloat(document.getElementById('expandedDiameter').value);
            var penetration = parseFloat(document.getElementById('penetration').value);                  
            if (unitSystem === 'english') {
               penetration = penetration * 2.54;
               diameter = diameter * 2.54;}       
           penetration = penetration - 7.6;
           if (penetration > 38) {penetration = 38};
           var result = 3.14 * diameter * diameter / 4  * penetration;
           if(bulletType === 'expandedJHP') {result *= 0.82;}   
           if(bulletType === 'allOthers') {result *= 0.67;}                    
           result = Math.round(result);
           document.getElementById('result').innerText = 'Defense Wound Mass: ' + result + ' grams';}
    </script>
</head>
<body>
    <h2>Defense Wound Mass Estimator</h2>
    <h5><i>Not for tumbling, fragmenting, or high-speed bullets!)</i>, ch. 11)</h5>
    <form onsubmit="event.preventDefault(); calculateWoundMass();">
    
   <label for="unitSystem">Choose Units:</label><br>
  <input type="radio" id="english" name="unitSystem" value="english" checked>
  <label for="english">Inches</label><br>
  <input type="radio" id="metric" name="unitSystem" value="metric">
  <label for="metric">Centimeters</label>
  <br><br>
  <label for="bulletType">Choose Bullet Type:</label><br>
<input type="radio" id="expandedJHP" name="bulletType" value="expandedJHP" checked>
<label for="expandedJHP">Expanded JHP</label><br>
<input type="radio" id="wadcutter" name="bulletType" value="wadcutter">
<label for="wadcutter">Wadcutter</label><br>
<input type="radio" id="allOthers" name="bulletType" value="allOthers">
<label for="allOthers">All Others</label>
<br><br> 
        <label for="expandedDiameter">Enter Diameter:</label>
        <input type="number" id="expandedDiameter" step="any" required>
        <br><br>
        <label for="penetration">Enter Penetration:</label>
        <input type="number" id="penetration" step="any" required>
        <br><br>
        <input type="submit" value="Calculate">
    </form>   
    <p id="result"></p>
</body>
</html>

