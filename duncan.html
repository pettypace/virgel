<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modified MacPherson Wound Mass</title>
   
      <style>
       .source-trigger {
            position: relative;
            display: inline-block;
            cursor: pointer;
            color: blue;
            text-decoration: underline;
        }

        .source-trigger .tooltip-text {
            visibility: hidden;
            width: 350px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 5px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 100%;
            left: 50%;
            margin-left: -30px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .source-trigger:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
    </style> 
    
    
    
    
    <script>
        function calculateWoundMass() {
            const unitSystem = document.querySelector('input[name="unitSystem"]:checked').value;
            const bulletType = document.querySelector('input[name="bulletType"]:checked').value;    
            var diameter = parseFloat(document.getElementById('expandedDiameter').value);
            var penetration = parseFloat(document.getElementById('penetration').value);                  
            if (unitSystem === 'english') {
               penetration = penetration * 2.54;
               diameter = diameter * 2.54;}   
           var bigGamePenetration = penetration;        
           penetration = penetration - 7.6;
           if (penetration > 38) {penetration = 38};
           var area = 3.14 * diameter * diameter / 4;
           if(bulletType === 'expandedJHP') {area *= 0.82;}   
           if(bulletType === 'allOthers') {area *= 0.67;} 
           var defenseResult = area * penetration;
           var bigGameResult  = area * bigGamePenetration;
           defenseResult = Math.round(defenseResult);
           bigGameResult = Math.round(bigGameResult);
           document.getElementById('defenseResult').innerText = 'Defense Wound Mass: ' + defenseResult + ' grams';
            document.getElementById('bigGameResult').innerText = 'Big Game Wound Mass: ' + bigGameResult + ' grams';}
    </script>
</head>
<body>





    <h2>Modified MacPherson Wound Mass</h2>

    <form onsubmit="event.preventDefault(); calculateWoundMass();">
    
   <label for="unitSystem">Choose Units:</label><br>
  <input type="radio" id="english" name="unitSystem" value="english" checked>
  <label for="english">Inches</label><br>
  <input type="radio" id="metric" name="unitSystem" value="metric">
  <label for="metric">Centimeters</label>
  <br><br>
  <label for="bulletType">Choose Bullet Type:</label><br>
<input type="radio" id="expandedJHP" name="bulletType" value="expandedJHP" checked>
<label for="expandedJHP">Expanded JHP</label><br>
<input type="radio" id="wadcutter" name="bulletType" value="wadcutter">
<label for="wadcutter">Wadcutter</label><br>
<input type="radio" id="allOthers" name="bulletType" value="allOthers">
<label for="allOthers">All Others</label>
<br><br> 
        <label for="expandedDiameter">Enter Diameter:</label>
        <input type="number" id="expandedDiameter" step="any" required>
        <br><br>
        <label for="penetration">Enter Penetration:</label>
        <input type="number" id="penetration" step="any" required>
        <br><br>
        <input type="submit" value="Calculate">
    </form>   
    <p id="defenseResult"></p>
     <p id="bigGameResult"></p>
     
  <p>
   <span id="ke-output"></span>
    <span class="source-trigger">Source
        <span class="tooltip-text">
            MacPherson, Duncan, <i>Bullet Penetration</i>, 1994.
        </span>
    </span>
</p>
     
     
     
</body>
</html>

